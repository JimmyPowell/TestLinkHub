"use strict";const e=require("../../common/vendor.js"),a=require("../../api/index.js");if(!Array){e.resolveComponent("uni-load-more")()}Math;const t={__name:"detail",setup(t){const r=e.ref(null),u=e.ref(!0),l=e.ref("");return e.onLoad((async t=>{if(!t||!t.uuid)return u.value=!1,void(l.value="页面缺少新闻ID参数。");const o=t.uuid;try{const t=await a.getNewsDetail(o);if(!t||200!==t.code||!t.data)throw new Error(t&&t.message||"获取新闻详情失败");r.value=t.data,r.value.title&&e.index.setNavigationBarTitle({title:r.value.title})}catch(s){l.value=s.message||"加载数据时发生未知错误",console.error("获取新闻详情时捕获到错误:",s)}finally{u.value=!1}})),(a,t)=>e.e({a:u.value},u.value?{b:e.p({status:"loading",text:"正在加载新闻详情..."})}:l.value?{d:e.t(l.value)}:r.value&&r.value.resource_url?{f:r.value.resource_url}:{},{c:l.value,e:r.value&&r.value.resource_url})}},r=e._export_sfc(t,[["__scopeId","data-v-fe4e2cb1"]]);wx.createPage(r);
